<template name="Progress">
  {{ > header }}
  <div class="main">
    {{ #if mode2 }}
      <!-- review dc lesson -->
      {{ #with student }}
        <h1>{{ name }}</h1>
      {{ /with }}
      <button class="pr_change_mode" data="1">Back</button>
      <button id="pr_dc_next">Next</button>
      <button id="pr_dc_q">?</button>
      {{ #with dc_review }}
        <div class="dc_lesson_question">{{{ htmlQuestion }}}</div>

        {{ #each answer }}
          <div class="dc_lesson_answer_flex">
            {{{ checkbox }}} {{{ content }}}
          </div>
        {{ /each }}
      {{ /with }}
    {{ /if }}

    {{ #if mode3 }}
    <!-- review gf lesson -->
      {{ #with student }}
        <h1>{{ name }}</h1>
      {{ /with }}
      <button class="pr_change_mode" data="1">Back</button>
      {{ #with gf_lesson }}
        <br><br>
        <div class="gf_lesson_code">
          {{ Code }} {{ Color }}  #{{ Number }}
        </div>
        <div class="gf_lesson_paragraph">
          {{{ Paragraph }}}
        </div>
      {{ /with }}

      <br>
      <div class="gf_question_wrapper">
        {{ #each gf_question }}
          {{ #if incorrect }}
            <div class="gf_question_incorrect">{{{ Question }}}</div>
            {{ #each list }}
              <div class="gf_answer_incorrect">
                {{{ checkbox }}} {{{ answer }}}
              </div>
            {{ /each}}
          {{ else }}
            <div class="gf_question">{{{ Question }}}</div>
            {{ #each list }}
              <div class="gf_answer">
                {{{ checkbox }}} {{{ answer }}}
              </div>
            {{ /each}}
          {{ /if }}
        {{ /each }}
        <br>
        <button id="gf_done">Done</button>
      </div>

    {{ /if }}

    {{ #if mode1 }}
      <button class="pr_home">Back</button>
      {{ #if wordsToStudyCount }}
        <button class="pr_words">{{ wordsToStudyCount }}</button>
      {{ /if }}
      {{ #if local }}
        <button id="pr_erase_reviewed">Erase Reviewed</button>
      {{ /if }}
      {{ #with student }}
        <h1>Progress for {{ name }}</h1>
      {{ /with }}
        <select id="pr_show">
          {{ #each pr_show_option }}
            <option value="{{ value }}" {{ sel }}>{{ label }}</option>
          {{ /each }}
        </select>

      <div class="pr_lesson_flex_heading">
        <div class="pr_lesson_when"><br>When</div>
        <div class="pr_lesson_type"><br>Lesson Type</div>
        <div class="pr_lesson_grade">Appr.<br>Grade</div>
        <div class="pr_lesson_pct">Pct<br>Correct</div>
        <div class="pr_lesson_missed"><br># Missed</div>
        <div class="pr_lesson_missed"><br>Options</div>
      </div>
      {{ #each lesson }}
        <div class="pr_lesson_flex {{ cls }}">
          <div class="pr_lesson_when">{{ when }}</div>
          <div class="pr_lesson_type">{{ lesson_type }}</div>
          <div class="pr_lesson_grade">{{ grade_level }}</div>
          <div class="pr_lesson_pct">{{ pct }}</div>
          <div class="pr_lesson_missed">
            {{ missed }}
            {{ #if reviewed }}
              (reviewed)
            {{ /if }}
          </div>
          <div class="pr_lesson_missed">
            {{ #if review }}
              <a href="#" class="pr_lesson_review" data="{{ _id }}">review</a>
            {{ /if }}
          </div>
        </div>
      {{ /each }}
    {{ /if }}

    <div class="popup" id="pr_word_popup">
      <div class="popup_inside">
        {{ #with wordHelper }}
          <button id="wh_knows" data="{{ word }}" data2="1">Knows</button>
          <button id="wh_knows" data="{{ word }}" data2="0">Doesn't Know</button>
          <button id="popup_close" data="pr_word_popup">Close</button>
          <button id="wh_instructions" data="{{ word }}">?</button>
          <div>&nbsp;</div>
          <div id="wh_study_word" data="{{ word }}">{{ word }}</div>
          <div id="wh_word_def" data="{{ word }}">D</div>
        {{ /with }}
      </div>
    </div>
  </div>
</template>
